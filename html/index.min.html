<!DOCTYPE html><html><head><title>esp status page</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/w3.css"><style>#terminal{border-left:none;background-color:#000;color:#949494;line-height:1.5;height:40ex;overflow-y:scroll;overflow-x:auto}</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript">function openTab(e){var n,t=document.getElementsByClassName("tab");for(n=0;n<t.length;n++)t[n].style.display="none";var o="tab-"+e;document.getElementById(o).style.display="block";var s=document.getElementsByClassName("nav"),r="w3-teal";for(n=0;n<s.length;n++)s.classList?s[n].lassList.remove(r):s[n].className=s[n].className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ");var o="nav-"+e;document.getElementById(o).classList?document.getElementById(o).classList.add(r):document.getElementById(o).className+=" "+r}function clearTerminal(){document.getElementById("terminal").innerHTML=""}function toggleAutoScroll(){var e=document.getElementById("autoscroll").checked;if(e){autoScroll=!0;var n=document.getElementById("terminal");n.scrollTop=n.scrollHeight}else autoScroll=!1}function load(){if("WebSocket"in window){var e=new WebSocket(("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws");e.onopen=function(){document.getElementById("wsStatus").innerHTML='<i class="fa fa-refresh w3-spin"></i>'},e.onmessage=function(e){try{var n=JSON.parse(e.data);if(n.hasOwnProperty("message")){var t=document.getElementById("terminal");n.message=n.message.replace(/(?:\r\n|\r|\n)/g,"<br />"),t.innerHTML+=n.message,autoScroll&&(t.scrollTop=t.scrollHeight)}n.hasOwnProperty("freeHeap")&&(document.getElementById("freeHeap").innerHTML=n.freeHeap),n.hasOwnProperty("uptime")&&(document.getElementById("uptime").innerHTML=n.uptime),n.hasOwnProperty("sdkVersion")&&(document.getElementById("sdkVersion").innerHTML=n.sdkVersion),n.hasOwnProperty("coreVersion")&&(document.getElementById("coreVersion").innerHTML=n.coreVersion),n.hasOwnProperty("fwVersion")&&(document.getElementById("fwVersion").innerHTML=n.fwVersion),n.hasOwnProperty("wpVersion")&&(document.getElementById("wpVersion").innerHTML=n.wpVersion)}catch(e){}},e.onclose=function(){document.getElementById("wsStatus").innerHTML='<i class="fa fa-close"></i>'},window.onbeforeunload=function(e){socket.close()}}else document.getElementById("terminal").innerHTML="Your browser doesn't support WebSocket."}var autoScroll=!0</script></head><body onload="load()"><div class="w3-row"><div class="w3-rest w3-container"><h1>esp status page</h1><div class="w3-bar w3-light-grey w3-border"><a href="#" id="nav-home" class="nav w3-bar-item w3-button w3-teal" onclick="openTab(&#34;home&#34;)"><i class="fa fa-home"></i></a> <a href="#" id="nav-status" class="nav w3-bar-item w3-button" onclick="openTab(&#34;status&#34;)"><i class="fa fa-tachometer"></i></a> <a href="#" id="nav-update" class="nav w3-bar-item w3-button" onclick="openTab(&#34;update&#34;)"><i class="fa fa-upload"></i></a></div></div></div><div class="w3-row"><div class="w3-rest w3-container"><!-- Home/terminal --><div id="tab-home" class="tab"><div class="w3-row"><div class="w3-rest w3-container"><div id="terminal" class="w3-code notranslate"></div></div></div><div class="w3-row"><div class="w3-threequarter w3-container"><label for="autoscroll">auto scroll:</label><input type="checkbox" id="autoscroll" checked onchange="toggleAutoScroll()"> <input class="w3-button w3-teal" type="button" value="Clear" onclick="clearTerminal()"></div><div class="w3-rest w3-container w3-right-align"><div id="wsStatus"><i class="fa fa-close"></i></div></div></div></div><!-- Status --><div id="tab-status" class="tab" style="display:none"><p><ul><li>Free heap: <span id="freeHeap">n/a</span></li><li>Uptime: <span id="uptime">n/a</span></li><li>SDK version: <span id="sdkVersion">n/a</span></li><li>Core version: <span id="coreVersion">n/a</span></li><li>Firmware version: <span id="fwVersion">n/a</span></li><li>WifiPrinter version: <span id="wpVersion">n/a</span></li></ul></p></div><!-- Update --><div id="tab-update" class="tab" style="display:none"><h2>Firmware update</h2><form method="POST" action="/update" enctype="multipart/form-data" class="w3-container"><input type="file" name="firmware" class="w3-input"> <input type="submit" value="Update" class="w3-button w3-teal"></form></div></div></div></body></html>